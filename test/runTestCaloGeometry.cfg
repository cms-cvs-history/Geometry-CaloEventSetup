process GeometryTest = {
# empty input service, fire 10 events
        source = EmptySource {untracked int32 maxEvents = 10}


	#Geometry
        es_source = XMLIdealGeometryESSource {
                  FileInPath GeometryConfiguration = "SimG4CMS/Calo/test/data/testConfiguration.xml"
                  string rootNodeName = ""
        }

##	#Magnetic Field
	es_source magfield= XMLIdealGeometryESSource {
                  FileInPath GeometryConfiguration ="SimG4Core/Application/test/FieldConfiguration.xml"
                  string rootNodeName="MagneticFieldVolumes:MAGF"
	}
	es_module = VolumeBasedMagneticFieldESProducer {
	}

        es_module = EcalBarrelGeometryEP {}
        es_module = EcalEndcapGeometryEP {}
        es_module = EcalPreshowerGeometryEP {}
        es_module = HcalHardcodeGeometryEP {}
        es_module = CaloTowerHardcodeGeometryEP {}
	es_module = CaloGeometryBuilder {}
 	
	module print = AsciiOutputModule {}
        module prod = CaloGeometryAnalyzer {}
        module mfa = testMagneticField {}
#provide a scheduler path
        path p1 = { prod,mfa }      
}
