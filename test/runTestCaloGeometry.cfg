process GeometryTest = {

# empty input service, fire 10 events

   untracked PSet maxEvents = {untracked int32 input = 10}

   source = EmptySource {}

# Geometry - overkill, used for test/completeness 
#            includes Sim, Digi & Reco files as far
#            as I can tell.

   include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

#   include "Geometry/CaloEventSetup/test/data/testCaloConfiguration.cfi"

# Magnetic field full setup

   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

# Calo geometry service model
   include "Geometry/CaloEventSetup/data/CaloGeometry.cff"

   include "Geometry/CaloEventSetup/data/CaloTopology.cfi"
# Ecal TT mapping
   include "Geometry/CaloEventSetup/data/EcalTrigTowerConstituents.cfi"

   module etta = dumpEcalTrigTowerMapping {}
   module ctgw = testEcalGetWindow {}
   module cga = CaloGeometryAnalyzer 
    {
	untracked bool fullEcalDump = true
    }
   module mfa = testMagneticField {}

# timing and memory checks

   service = Timing { }
   service = SimpleMemoryCheck { } 

   include "FWCore/MessageLogger/data/MessageLogger.cfi"

#provide a scheduler path

   path p1 = { etta, ctgw, cga, mfa }      

}
